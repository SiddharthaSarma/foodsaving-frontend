<form name="editForm" ng-submit="$ctrl.submit()" promise-btn>
  <div layout="column" layout-padding>
    <md-input-container>
      <label translate="STOREEDIT.NAME"></label>
      <input type="text" name="name" ng-model="$ctrl.data.name"
        required minlength="3" maxlength="80" autocomplete="off" storename-Validator/>
      <div ng-messages="editForm.name.$error">
        <div ng-message="minlength" translate="FORM.MINLENGTH" translate-values="{min:'3'}"></div>
        <div ng-message="unique" translate="FORM.UNIQUE"></div>
      </div>
    </md-input-container>

    <markdown-input translation-label="STOREEDIT.DESCRIPTION" model="$ctrl.data.description"></markdown-input>
    
    <map-picker data="$ctrl.data" placeholder="STOREEDIT.ADDRESS"></map-picker>

    <h4 ng-if="!$ctrl.isCreate" translate="STOREEDIT.WEEKS_IN_ADVANCE"></h4>
    <md-slider-container ng-if="!$ctrl.isCreate">
      <md-slider flex md-discrete min="1" step="1" max="10" ng-model="$ctrl.data.weeks_in_advance" aria-label="{{'STOREEDIT.WEEKS_IN_ADVANCE' | translate}}" id="week-slider">
      </md-slider>
      <md-input-container>
        <input flex type="number" ng-model="$ctrl.data.weeks_in_advance" aria-label="{{'STOREEDIT.WEEKS_IN_ADVANCE' | translate}}" aria-controls="week-slider">
      </md-input-container>
    </md-slider-container>

    <p>{{ $ctrl.error }}</p>
    <div layout="row" layout-align="end start">
      <md-button class="md-icon-button" ui-sref="group.store ({'storeId': $ctrl.data.id})" ng-if="!$ctrl.isCreate">
        <i class="fa fa-times"></i>
      </md-button>
      <md-button type="submit" class="md-raised md-primary" ng-disabled="!editForm.$valid">
        <i class="fa fa-check" ng-if="!$ctrl.isCreate"></i>
        <span ng-if="$ctrl.isCreate" translate="BUTTON.CREATE"></span>
      </md-button>
    </div>
  </div>
</form>
